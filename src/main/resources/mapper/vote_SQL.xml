<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="vote">
	<select id="selectUserList" resultType="user">
        <![CDATA[
            SELECT
               	id,
               	name
            FROM
                users
            ORDER BY no DESC
        ]]>
    </select>
    
    <select id="selectUser" parameterType="user" resultType="user">
        <![CDATA[
            SELECT
            	no,
               	id,
               	name,
               	password
            FROM
                user
            WHERE
            	id = #{id}
        ]]>
    </select>
    
    <insert id="insertCommonUser" parameterType="user">
    	<![CDATA[
    		INSERT INTO
    			user
    		(
    			id,
    			name,
    			password
    		)
    		VALUES
    		(
    			#{id},
    			#{name},
    			#{password}
    		)
    	]]>
    </insert>
    
    <select id="selectOneArticle" parameterType="article" resultType="article">
    	<![CDATA[
    		SELECT
    			no,
    			title,
    			content,
    			hit_count,
    			update_date,
    			user_no
    		FROM
    			article
    		WHERE
    			id = #{id}
    	]]>
    </select>
    
    <select id="selectListOfArticles" parameterType="Integer" resultType="article">
    	<![CDATA[
	    	SELECT
    			no,
    			title,
    			content,
    			hit_count,
    			update_date,
    			user_no
    		FROM
    			article
    		ORDER BY create_date DESC
    		LIMIT 
    	]]>
    </select>
</mapper>